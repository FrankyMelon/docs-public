В бакет S3 можно добавлять объекты любого типа — файлы изображений, резервные копии, фильмы и другое. 
При добавлении объекта ему назначается ключевое имя — комбинация имени объекта и имен папок, в которых находится объект (при наличии). 

<warn>

Если ключевое имя нового объекта совпадает с именем объекта, которое уже существует в бакете, S3 заменяет существующий объект новым.
Для добавления объекта больше 1 ГБ рекомендуется использовать AWS S3 CLI или AWS S3 REST API. Максимальный размер файла, который можно добавить в бакет, составляет 32 ГБ. Для файлов большего размера необходимо использовать метод мультипартовой загрузки и хранения.

</warn>

<tabs>
<tablist>
<tab>Личный кабинет</tab>
<tab>S3 CLI</tab>
</tablist>
<tabpanel>

## Загрузка из личного кабинета VK Cloud

1.	Перейдите на вкладку «Бакеты» сервиса «Объектное хранилище» в [личном кабинете](https://mcs.mail.ru/app/) VK Cloud.
2.	Выберите нужный бакет и нажмите кнопку «Добавить файл».
3.	Выберите необходимые настройки ACL для загружаемых объектов.
4.	Добавьте один или несколько объектов, выполнив одно из следующих действий:
   - Перетащите нужные файлы в окно загрузки (только для браузеров Firefox и Chrome).
   - Нажмите кнопку «Выбрать файлы» и выберите файлы.
     Чтобы загрузить папку с файлами, перетащите папку в окно загрузки (только для браузеров Firefox и Chrome).
</tabpanel>

<tabpanel>

## Загрузка из S3 CLI

В S3 CLI доступны несколько способов добавления объектов в бакет и создания для них ключевых имен.

**Добавление одного объекта в бакет**

Чтобы загрузить один файл в указанный бакет, используйте следующую команду:

```bash
aws s3 cp <имя_файла> s3://<уникальное_имя_бакета>/<ключевое_имя> --endpoint-url <endpoint-url>
```

Где endpoint-url:
   - Общий домен (ведет в Московский регион): `https://hb.vkcs.cloud`.
   - Домен Москвы: `https://hb.ru-msk.vkcs.cloud`.
   - Домен Казахстана: `https://hb.kz-ast.vkcs.cloud`.

Следующий вывод появится в результате корректного выполнения команды:

```bash
upload: <имя_файла> to s3://<уникальное_имя_бакета>/<ключевое_имя>
```

**Добавление нескольких объектов в бакет**

Чтобы загрузить сразу несколько файлов подключите синхронизацию, используя следующую команду:

```bash
aws s3 sync <локальный_путь> s3://<уникальное_имя_бакета> --endpoint-url <endpoint-url>
```

Где endpoint-url:
   - Общий домен (ведет в Московский регион): `https://hb.vkcs.cloud`.
   - Домен Москвы: `https://hb.ru-msk.vkcs.cloud`.
   - Домен Казахстана: `https://hb.kz-ast.vkcs.cloud`.

Ключевые имена создаются автоматически после завершения загрузки в указанный бакет.
В случае, если в бакете уже существуют объекты, то синхронизации подлежат файлы:
   - Размер файлов отличается от размера объекта S3.
   - Последнее изменение локального файла новее, чем последнее изменение объекта S3.
   - Локальный файл не существует в указанном бакете.

Следующий вывод появится в результате корректного выполнения команды:

```bash
upload: <имя_файла1> to s3://<уникальное_имя_бакета>/<имя_файла1>
upload: <имя_файла2> to s3://<уникальное_имя_бакета>/<имя_файла2>
…
```

Полное описание операций копирования и перемещения объектов и файлов доступно в [официальной документации S3 CLI](https://awscli.amazonaws.com/v2/documentation/api/latest/reference/s3/index.html#synopsis).

</tabpanel>
</tabs>
